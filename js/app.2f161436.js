(function(t){function e(e){for(var n,a,s=e[0],c=e[1],l=e[2],u=0,h=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},o={app:0},i=[];function a(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e95df":"030a129e"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=o[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var r=o[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,r[1](l)}o[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([8,"chunk-vendors"]),r()})({0:function(t,e){},"0019":function(t,e,r){"use strict";r("10c9")},"004d":function(t,e,r){},"0059":function(t,e,r){},"089d":function(t,e,r){},"0c80":function(t,e,r){},1:function(t,e){},10:function(t,e){},"10c9":function(t,e,r){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},2:function(t,e){},20:function(t,e){},2280:function(t,e,r){},"229a":function(t,e,r){},3:function(t,e){},"30ae":function(t,e,r){"use strict";r("0059")},4:function(t,e){},4093:function(t,e,r){"use strict";r("0c80")},4331:function(t,e){var r={ORGANIZATION_NAME_EMPTY:"Please enter Organization name",INVALID_ORG_NAME:"Enter valid Organization name",DOMAIN_NAME_EMPTY:"Please enter Domain name",INVALID_DOMAIN_NAME:"Enter valid Domain name"},n={EMPTY_SCHEMA_NAME:"Please enter Schema name",INVALID_SCHEMA_NAME:" Enter valid Schema name",EMPTY_SCHEMA_ATTRIBUTE:"Atleast one attribute is required",EMPTY_SCHEMA_ATTRIBUTE_NAME:"Please provide attribute name",INVALID_ATTRIBUTE_NAME:"Enter valid attribute name",EMPTY_ATTRIBUTE_TYPE:"Please select attribute type",INVALID_FORMAT:"Enter a valid format value"},o={EMPTY_HOLDER_DID:"Please enter Subject Did",SELECT_SCHEMA:"Please select schema",INVALID_DID:"Please enter a valid did"},i={REASON:"Please enter reason for creating template",CALLBACK_URL:"Please enter callback url",INVALID_URL:"Please enter a valid url"};t.exports={ORGANIZATION:r,SCHEMA:n,CREDENTIAL:o,PRESENTATION:i}},"439f":function(t,e,r){"use strict";r("229a")},"442c":function(t,e,r){"use strict";r("c3ba")},"478e":function(t,e,r){t.exports=r.p+"img/green-tick.8b795ba6.png"},"49e7":function(t,e,r){"use strict";r("089d")},"4f5a":function(t,e,r){"use strict";r("2280")},5:function(t,e){},"555a":function(t,e,r){t.exports=r.p+"img/icon.7931bf0c.png"},"559a":function(t,e,r){"use strict";r("607c")},5619:function(t){t.exports=JSON.parse('{"NODE_ENV":"$NODE_ENV","TITLE":"$VUE_APP_TITLE","DESC":"$VUE_APP_DESC","VERSION":"$VUE_APP_VERSION","STUDIO_SERVER_BASE_URL":"$VUE_APP_STUDIO_SERVER_BASE_URL","STUDIO_SERVER_BASE_WS":"$VUE_APP_STUDIO_SERVER_BASE_WS","NODE_SERVER_BASE_URL":"$VUE_APP_NODE_SERVER_BASE_URL","NODE_SERVER_BASE_URL_REST":"$VUE_APP_NODE_SERVER_BASE_URL_REST","SCHEMA_GET_EP_REST":"$VUE_APP_SCHEMA_GET_EP_REST","ACCPCT_CRED_EP":"$VUE_APP_ACCPCT_CRED_EP","EXPLORER_BASE_URL":"$VUE_APP_EXPLORER_BASE_URL","STUDIO_SERVER_SAVE_SCHEMA":"$VUE_APP_STUDIO_SERVER_SAVE_SCHEMA","SCHEMA_LIST_EP":"$VUE_APP_SCHEMA_LIST_EP","STUDIO_SERVER_CRED_LIST_EP":"$VUE_APP_STUDIO_SERVER_CRED_LIST_EP","STUDIO_SERVER_CRED_ISSUE_EP":"$VUE_APP_STUDIO_SERVER_CRED_ISSUE_EP","WEB_WALLET_ADDRESS":"$VUE_APP_WEB_WALLET_ADDRESS","PRESENTATION_TEMPLATE_EP":"$VUE_APP_PRESENTATION_TEMPLATE_EP","SSE":"$VUE_APP_SSE"}')},"56d7":function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.showIcon?e("b-navbar",{staticClass:"navStyle",attrs:{toggleable:"lg",type:"dark",variant:"white"}},[e("b-navbar-brand",{staticStyle:{display:"flex"},attrs:{href:"#"}},[e("img",{attrs:{src:"https://thumb.tildacdn.com/tild3065-3765-4865-b331-393637653931/-/resize/150x/-/format/webp/hypersign_Yellow.png",alt:""}}),e("h4",{staticClass:"subtitle"},[t._v("| "+t._s(t.$config.app.name)+" ("+t._s(t.$config.app.version)+")")])]),e("b-navbar-toggle",{staticStyle:{"background-color":"grey"},attrs:{target:"nav-collapse",type:"dark"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"ml-auto",staticStyle:{"padding-right":"100px",position:"static"}},[t.showIcon?e("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("b-iconstack",{attrs:{"font-scale":"3"}},[e("b-icon",{attrs:{stacked:"",icon:"circle",variant:"info"}}),e("b-icon",{attrs:{stacked:"",icon:"person",scale:"0.6",variant:"info"}})],1)]},proxy:!0}],null,!1,2192088499)},[e("div",{staticClass:"copyDiv"},[e("span",[t._v(t._s(t.shorten(t.userDetails.email)))]),e("br"),e("span",[t._v(t._s(t.shorten(t.userDetails.did)))]),e("span",{on:{click:function(e){return t.copyToClip(t.userDetails.did,"DID")}}},[e("i",{staticClass:"far fa-copy"})])]),e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Logout"},on:{executeAction:function(e){return t.logoutAll()}}})],1):t._e()],1)],1)],1):t._e(),e("div",{class:[t.isSidebarCollapsed?"container-collapsed-not":"container-collapsed"]},[t.showSideNavbar?e("sidebar-menu",{staticClass:"sidebar-wrapper",attrs:{collapsed:t.isSidebarCollapsed,theme:"white-theme",width:"220px",menu:t.getSideMenu()},on:{"toggle-collapse":t.onToggleCollapse}},[e("div",{staticStyle:{background:"#363740"},attrs:{slot:"header"},slot:"header"},[e("div",{staticClass:"mt-3"},[e("div",[e("center",[t.isSidebarCollapsed?t._e():e("img",{attrs:{src:"".concat(t.getProfileIcon(t.selectedOrg.name)),alt:"avatar",width:"130px"}})]),e("center",[t.isSidebarCollapsed?e("img",{staticClass:"mr-1",attrs:{src:"".concat(t.getProfileIcon(t.selectedOrg.name)),alt:"center",width:"35px"}}):t._e()])],1),e("center",[e("p",{staticClass:"mt-3 orgNameCss"},[t._v(t._s(t.selectedOrg.name))])])],1)])]):t._e(),e("router-view")],1),e("notifications",{attrs:{group:"foo"}})],1)},i=[],a={methods:{shorten:function(t){if(!t||"undefined"===t)return"";if(t.length<=8)return t;var e=t.substr(0,8),r="...",n=t.substr(t.length-8,8);return e+r+n},truncate:function(t,e){if(t&&e){if(t.length<=e)return t;var r=Math.floor(e/3),n=t.substr(0,r),o=t.slice(-r);return n+" ... "+o}},fetchData:function(t,e){var r=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return r.notifyErr("Error: ".concat(t.message))}))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})}}},s=new n["default"],c=s,l=function(){var t=this,e=t._self._c;return e("button",{class:t.customClass?"".concat(t.customClass):"btn button-theme",attrs:{title:t.title},on:{click:function(e){return t.emitExecuteAction()}}},[t.iconClass?e("span",[e("i",{class:t.iconClass})]):t._e(),t._v("  \n"+t._s(t.name)+" \n")])},u=[],d={props:{name:{type:String,require:!0},iconClass:{type:String,require:!1},customClass:{type:String,require:!1},title:{type:String,require:!1}},computed:{},methods:{emitExecuteAction:function(){this.$emit("executeAction")}}},h=d,f=(r("442c"),r("2877")),p=Object(f["a"])(h,l,u,!1,null,null,null),m=p.exports;function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(A){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return x()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(p=y);var b=f.prototype=d.prototype=Object.create(p);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==g(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=f,s(b,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},S(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(b),s(b,a,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function y(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){y(i,n,o,a,s,"next",t)}function s(t){y(i,n,o,a,s,"throw",t)}a(void 0)}))}}var S={components:{HfButtons:m},computed:{userDetails:function(){return this.$store.getters.userDetails},selectedOrg:function(){return this.$store.getters.getSelectedOrg},showSideNavbar:function(){return this.$store.state.showSideNavbar}},data:function(){return{collapsed:!0,showIcon:!1,isSidebarCollapsed:!0,authToken:localStorage.getItem("authToken"),schema_page:1,authRoutes:["register","PKIIdLogin"],user:{}}},mounted:function(){var t=this;if(c.$on("closeSideNav",(function(){t.isSidebarCollapsed=!0})),localStorage.getItem("user")){var e=localStorage.getItem("user");this.user=JSON.parse(e)}if(localStorage.getItem("selectedOrg")){var r=localStorage.getItem("selectedOrg");this.$store.commit("selectAnOrg",r),this.getList(r),this.getCredList(r),this.fetchTemplates(r)}c.$on("initializeStore",this.initializeStore),this.initializeStore()},methods:{copyToClip:function(t,e){var r=this;t&&navigator.clipboard.writeText(t).then((function(){r.notifySuccess("".concat(e," copied!"))})).catch((function(t){r.notifyErr("Error while copying",t)}))},getProfileIcon:function(t){return"https://avatars.dicebear.com/api/identicon/"+t+".svg"},logoutAll:function(){this.showIcon=!1,this.$router.push("/login"),this.logout()},onToggleCollapse:function(t){this.isSidebarCollapsed=!!t},initializeStore:function(){this.authToken=localStorage.getItem("authToken"),this.authToken?(this.showIcon=!0,this.fetchAllOrgs()):console.log("else")},getSideMenu:function(){var t=[{href:"/studio/dashboard",title:"Dashboard",icon:"fas fa-tachometer-alt"},{href:"/studio/schema",title:"Schema",icon:"fa fa-table"},{href:"/studio/credential",title:"Credentials",icon:"fa fa-id-card"},{href:"/studio/presentation",title:"Presentation",icon:"fa fa-desktop"}];return t},fetchAllOrgs:function(){var t=this,e="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(e,{headers:r}).then((function(t){return t.json()})).then((function(e){var r=e.data.org;r&&r.forEach((function(e){t.$store.commit("insertAnOrg",e)})),r&&r.length}))},fetchTemplates:function(t){var e=this,r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PRESENTATION_TEMPLATE_EP,"/org/").concat(t,"/"),n={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(r,{headers:n}).then((function(t){return t.json()})).then((function(t){t.data.forEach((function(t){e.$store.commit("insertApresentationTemplate",t)}))}))},getList:function(){var t=b(v().mark((function t(e){var r,n,o,i,a,s=this;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="",n={},r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SCHEMA_LIST_EP,"/").concat(e,"/?page=").concat(this.schema_page,"&limit=10"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(r,n);case 6:return o=t.sent,t.next=9,o.json();case 9:if(i=t.sent,!i||500!=i.status){t.next=12;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(i.error)));case 12:a=i.data.schemaList,a.forEach((function(t){s.$store.dispatch("insertAschema",t)}));case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getCredList:function(){var t=b(v().mark((function t(e){var r,n,o,i,a,s=this;return v().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="",n={},r="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_LIST_EP,"/").concat(e),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(r,n);case 6:return o=t.sent,t.next=9,o.json();case 9:if(i=t.sent,!i||500!=i.status){t.next=12;break}return t.abrupt("return",this.notifyErr("Error:  ".concat(i.error)));case 12:a=i.data.credList,a.forEach((function(t){s.$store.dispatch("insertAcredential",t)}));case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),this.isSidebarCollapsed=!0,this.collapsed=!0,localStorage.removeItem("selectedOrg"),this.$store.commit("resetStore")}},mixins:[a]},_=S,E=(r("900b"),r("d1b2"),Object(f["a"])(_,o,i,!1,null,"7317f793",null)),w=E.exports,O=r("8c4f"),C=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"justify-content":"center","padding-top":"3%"}},[e("img",{staticClass:"align-center",staticStyle:{"margin-bottom":"20px"},attrs:{height:"60px",src:r("555a")}}),e("b-card",{staticClass:"loginContent event-card",attrs:{"no-body":""}},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("h4",[t._v("Admin Login")]),e("div",{staticClass:"row",staticStyle:{"margin-top":"3%"}},[t.QRRefresh?e("div",{staticClass:"QRRefresh"},[e("i",{staticClass:"fas fa-redo",staticStyle:{"font-size":"xx-large",color:"gray"},on:{click:t.reloadQR}}),e("p",[e("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("\n              Session expired. Click to reload.\n            ")])])]):e("form",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[""!=t.qr_data?e("vue-qr",{attrs:{margin:"1",text:t.qr_data,size:200,logoSrc:t.src2,logoBackgroundColor:"white",logoCornerRadius:"2"}}):t._e(),e("label",{staticStyle:{"font-size":"small",color:"grey","margin-top":"1%"}},[t._v("Scan QR code using Hypersign Mobile App")]),e("div",[e("span",{staticStyle:{"font-size":"small",color:"grey",padding:"10px"}},[t._v("\n                Get the app on\n                "),e("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.hypersign.cordova",target:"__blank"}},[t._v("Android")]),t._v("\n                or\n                "),e("a",{attrs:{href:t.$config.webWalletAddress,target:"__blank"}},[t._v("Web")])])])],1),e("h5",[e("span",[t._v("OR")])]),e("div",{staticClass:"mb-2"},[""!=this.value?e("a",{staticClass:"btn btn-hypersign button-theme",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openWallet()}}},[e("div",{staticStyle:{"font-size":"smaller",padding:"10px"}},[t._v("\n                Click To Login\n              ")])]):t._e()])])])],1)],1)},L=[],x=r("d7b0"),A=r("658f"),T=r.n(A),P=r("db49"),D=r("9062"),N=r.n(D),I=(r("e40d"),void 0),R=(P["a"].hypersignSDK,r("e2c9")),k=(R.sha256hashStr,{name:"Login",components:{QrcodeVue:x["a"],Loading:N.a,VueQr:T.a},data:function(){return{qr_data:"",src2:r("555a"),QRRefresh:!1,active:0,username:"",password:"",host:location.hostname,challenge:"dddd",domain:location.host,QRCodeValue:this.$route.query,credentials:{},userData:{},user:{},verifiablePresentation:"",fullPage:!0,isLoading:!1,connection:null,privateKey:"3isrtEJ4gt1ZHkdUYYph1WFAtzfqAL5WM6Hh1NC2hmWnDfBypXjt5oUFdAqQdiess2vqqQ3iF6x4fDVuvLw454sn",did:"did:hs:892325a4-75c9-465c-882b-91e3ca5143c3"}},created:function(){localStorage.clear(),document.title="".concat(P["a"].app.name," - Login"),this.connection=new WebSocket(this.$config.websocketUrl),this.connection.onopen=function(){console.log("Socket connection is open")},this.isLoading=!0;var t=this;this.connection.onmessage=function(e){var r=e.data,n=JSON.parse(r);if("init"==n.op)t.isLoading=!1,n.data["provider"]="google",t.value=JSON.stringify(n.data),t.qr_data="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(t.value),console.log(t.qr_data);else if("end"==n.op){t.connection.close();var o=n.data.hypersign.data.accessToken,i=n.data.hypersign.data.refreshToken;localStorage.setItem("authToken",o),localStorage.setItem("refreshToken",i),c.$emit("initializeStore","login"),null!=localStorage.getItem("authToken")&&(this.walletWindow&&this.walletWindow.close(),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("dashboard"))}else"reload"==n.op&&(t.QRRefresh=!0,t.connection.close(4001,n.data.clientId))},this.connection.onerror=function(t){console.log("Websocket connection error ",t)}},mounted:function(){this.clean()},methods:{reloadQR:function(){window.location.reload()},push:function(t){this.$router.push(t)},openWallet:function(){if(""!=this.value){var t="".concat(this.$config.webWalletAddress,"/deeplink?url=").concat(this.value);this.walletWindow=window.open(t,"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}},clean:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData")},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},gotosubpage:function(t){I.$router.push("".concat(t))}}}),j=k,$=(r("559a"),Object(f["a"])(j,C,L,!1,null,"1c9d607b",null)),U=$.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"col-md-3",staticStyle:{"font-size":"small",color:"grey","margin-left":"36%"}},[e("form",{staticStyle:{padding:"6px"},attrs:{action:"#"}},[e("b-card",{staticStyle:{padding:"40px"},attrs:{"no-body":""}},[e("h4",[t._v("Sign Up")]),e("hr"),e("div",{staticClass:"row"},[e("form",{staticClass:"col-md-12",attrs:{action:"#"}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Name:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Email:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[t._v("Hypersign DID ("),e("a",{attrs:{href:"".concat(t.$config.explorer.BASE_URL),target:"_blank"}},[t._v("Get a DID")]),t._v("):")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.did,expression:"did"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter DID (did:hs:...)"},domProps:{value:t.did},on:{input:function(e){e.target.composing||(t.did=e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3",attrs:{hidden:""}},[e("button",{staticClass:"btn btn-primary btn-sm floatLeft",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.downloadPresentation()}}},[t._v("View Proof")])]),e("div",{staticClass:"col-sm-3"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.signup()}}},[t._v("Signup")])]),e("div",{staticClass:"col-md-9 floatRight"},[t._v("\n            Back to\n            "),e("a",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:function(e){return t.push("login")}}},[t._v("Login")])])])])],1)])],1)},B=[],F=r("a18f"),H=r.n(F);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}var G=void 0;function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */q=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==V(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,s(v,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function W(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){W(i,n,o,a,s,"next",t)}function s(t){W(i,n,o,a,s,"throw",t)}a(void 0)}))}}var J={name:"Register",components:{Loading:N.a},data:function(){return{active:0,fullName:"",email:"",phno:"",publicKey:"",username:"",password:"",host:location.hostname,keys:{},did:"",isLoading:!1,fullPage:!0}},created:function(){},methods:{push:function(t){this.$router.push(t)},gotosubpage:function(t){G.$router.push("".concat(t))},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},signup:function(){var t=z(q().mark((function t(){var e,r,n,o;return q().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,""!=this.email&&""!=this.name&&""!=this.did){t.next=4;break}throw new Error("All fields are mandatory");case 4:return e={fname:this.fullName,email:this.email,publicKey:this.did},r="".concat(this.$config.studioServer.BASE_URL,"api/auth/register"),t.next=8,H()(r,{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}});case 8:return n=t.sent,t.next=11,n.json();case 11:if(o=t.sent,500!=o.status){t.next=15;break}throw this.isLoading=!1,new Error(o.error);case 15:this.isLoading=!1,alert("An email has been sent to you. Please click on the link to verify and download HypersignAuth credentials."),this.isLoading=!1,this.$router.push("login"),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 25:case"end":return t.stop()}}),t,this,[[1,21]])})));function e(){return t.apply(this,arguments)}return e}()}},Y=J,Q=(r("ab20"),Object(f["a"])(Y,M,B,!1,null,"661dcc97",null)),K=Q.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.vcList.length>0?e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Credentials")]):e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Issue your first credential!")]),e("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Credential"},on:{executeAction:function(e){return t.openSlider()}}})],1),e("StudioSideBar",{attrs:{title:"Issue Credential"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-md-12"},[e("form",{staticStyle:{"max-height":"300px",overflow:"auto",padding:"5px"}},[e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Enter DID to whome you are issuing credential"}}),e("label",{attrs:{for:"fordid"}},[e("strong",[t._v("Subject DID"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.holderDid,expression:"holderDid"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Issued To (did:hs:...)"},domProps:{value:t.holderDid},on:{input:function(e){e.target.composing||(t.holderDid=e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Select Schema to issue credential"}}),e("label",{attrs:{for:"forselectschema"}},[e("strong",[t._v("Select Schema"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("hf-select-drop-down",{attrs:{options:t.selectOptions},on:{selected:function(e){t.OnSchemaSelectDropDownChange(e)}}})],1),1===t.selectOptions.length?e("tool-tip",{attrs:{infoMessage:"Create Schema to issue credential"}}):t._e(),1===t.selectOptions.length?e("span",{staticClass:"goschema",on:{click:function(e){return t.goToSchema()}}},[t._v("Create Schema")]):t._e(),t._l(t.issueCredAttributes,(function(r){return e("div",{key:r.name,staticClass:"form-group"},[e("label",{attrs:{for:"schDescription"}},[e("strong",[t._v(t._s(r.name))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:r.value,expression:"attr.value"}],staticClass:"form-control",attrs:{type:"text",id:"schemaName","aria-describedby":"schemaNameHelp",placeholder:"Enter attribute value"},domProps:{value:r.value},on:{input:function(e){e.target.composing||t.$set(r,"value",e.target.value)}}})])}))],2)])]),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-md-12"},[e("hr"),e("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"Issue"},on:{executeAction:function(e){return t.issueCredential()}}})],1)])])])],1)]),t.vcList.length>0?e("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),e("tbody",t._l(t.vcList,(function(r){return e("tr",{key:r.vc_id},[e("td",[r.vc_id?e("a",{attrs:{href:"".concat(r.vc_id,":"),target:"_blank>"}},[t._v(t._s(t.removeUrl(r.vc_id)))]):t._e()]),e("td",[e("a",{attrs:{href:"".concat(t.$config.nodeServer.BASE_URL_REST).concat(t.$config.nodeServer.SCHEMA_GET_REST).concat(r.schemaId,":"),target:"_blank"}},[t._v(t._s(t.shorten(r.schemaId)))])]),e("td",[t._v(t._s(r.subjectDid))]),e("td",[t._v(t._s(r.credStatus?r.credStatus.issuanceDate:"-"))]),e("td",[t._v(t._s(r.credStatus?r.credStatus.expirationDate:"-"))]),e("td",[t._v(" "+t._s(r.credStatus?r.credStatus.claim.currentStatus:r.status))]),e("td",[t._v(t._s(r.credStatus?r.credStatus.claim.statusReason:"-"))]),e("td",[r.credStatus?e("hf-buttons",{staticClass:"btn btn-primary",staticStyle:{"text-align":"right"},attrs:{name:"Send"},on:{executeAction:function(e){return t.generateCred("".concat(r._id))}}}):e("span",[t._v("-")])],1)])})),0)]),e("hf-pop-up",{attrs:{Header:"Accept Credential URL"}},[e("Info",{attrs:{message:"Copy and send this URL to the credential owner so that they can accept in their wallet"}}),e("i",{staticClass:"far fa-copy",staticStyle:{float:"right"},attrs:{title:"copy url"},on:{click:function(e){return t.copyToClip(t.credUrl,"Url")}}}),e("p",{staticStyle:{"max-width":"500px","word-wrap":"break-word",padding:"10px"}},[t._v(t._s(t.credUrl))])],1)],1)]):t._e()],1)},X=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("VC Id")]),e("th",[t._v("Schema Id")]),e("th",[t._v("Holder DID")]),e("th",[t._v("Issuance Date")]),e("th",[t._v("Expiration Date")]),e("th",[t._v("Status")]),e("th",[t._v("Status Reason")]),e("th")])])}],tt=function(){var t=this,e=t._self._c;return e("p",{staticClass:"message"},[t._v("\n    "+t._s(t.message)+"\n")])},et=[],rt={name:"Info",props:["message"],mounted:function(){}},nt=rt,ot=(r("7d33"),Object(f["a"])(nt,tt,et,!1,null,"7080b038",null)),it=ot.exports,at=function(){var t=this,e=t._self._c;return e("b-modal",{ref:"modal-1",attrs:{"hide-footer":"",title:t.Header,centered:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._t("default")],2)},st=[],ct={data:function(){return{show:!1}},props:{Header:{type:String,require:!0}},created:function(){this.openModal(),this.closeModal()},methods:{openModal:function(){var t=this;this.$root.$on("modal-show",(function(){t.show=!0}))},closeModal:function(){var t=this;this.$root.$on("modal-close",(function(){t.show=!1}))}}},lt=ct,ut=Object(f["a"])(lt,at,st,!1,null,null,null),dt=ut.exports,ht=function(){var t=this,e=t._self._c;return e("div",[e("b-sidebar",{attrs:{id:"sidebar-right",width:"40%",title:t.title,right:"",shadow:"",backdrop:"","no-close-on-backdrop":""}},[t._t("default")],2)],1)},ft=[],pt={props:{title:{type:String,required:!0}}},mt=pt,gt=Object(f["a"])(mt,ht,ft,!1,null,null,null),vt=gt.exports,yt=function(){var t=this,e=t._self._c;return e("div",[e("b-form-select",{attrs:{placeholder:t.placeholder,"text-field":t.textField,"value-field":t.valueField,options:t.options},on:{input:t.selectOption},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},bt=[],St={name:"HfSelectDropDown",data:function(){return{selected:null}},props:{placeholder:{type:String,require:!1},options:{type:Array,require:!1},textField:{type:String,require:!1},valueField:{type:String,require:!1}},mounted:function(){var t=this;c.$on("resetForFresh",(function(){t.selected=null})),c.$on("resetOption",(function(e){for(var r=1;r<t.options.length;r++)if(t.options[r].value===e)return t.selected=t.options[0].value})),c.$on("setOption",(function(e){var r=t.options.find((function(t){if(t&&t.value===e)return t}));t.selected=r.value})),c.$on("setForParticipant",(function(e){t.selected=e}))},methods:{selectOption:function(t){this.selected=t,this.$emit("selected",this.selected)}}},_t=St,Et=Object(f["a"])(_t,yt,bt,!1,null,null,null),wt=Et.exports,Ot=function(){var t=this,e=t._self._c;return e("span",{staticClass:"info",on:{mouseover:function(e){return t.renderInforMessage(!0)},mouseleave:function(e){return t.renderInforMessage(!1)}}},[t._v("â“˜\n  "),t.hover?e("span",{staticClass:"infoMsg"},[t._v(t._s(this.infoMessage))]):t._e()])},Ct=[],Lt={props:{infoMessage:{type:String}},data:function(){return{hover:!1}},methods:{renderInforMessage:function(t){this.hover=t}}},xt=Lt,At=(r("d738"),Object(f["a"])(xt,Ot,Ct,!1,null,"1f61d629",null)),Tt=At.exports,Pt=r("9bc1"),Dt=r.n(Pt);function Nt(t){return Dt.a.isUri(t)}function It(t){return" "==t||!t}function Rt(t){return t=t.trim(),t=t.split(" "),t.length>1}function kt(t){return t=t.split(":"),"did"!=!t[0]&&((3==t.length||4==t.length)&&45===t[t.length-1].length)}var jt=r("4331"),$t=r.n(jt);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Mt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Ut(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,s(v,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function Bt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Bt(i,n,o,a,s,"next",t)}function s(t){Bt(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Ht={name:"IssueCredential",components:{Info:it,HfPopUp:dt,Loading:N.a,StudioSideBar:vt,HfButtons:m,HfSelectDropDown:wt,ToolTip:Tt},computed:{vcList:function(){return this.$store.state.vcList},selectOptions:function(){return this.$store.getters.listOfAllSchemaOptions},selectedOrg:function(){return this.$store.getters.getSelectedOrg}},data:function(){return{authToken:localStorage.getItem("authToken"),description:'An issuer can issue a credential to a subject (or holder) which can be verfied by the verifier independently, without having him to connect with the issuer. They are a part of our daily lives; driver\'s licenses are used to assert that we are capable of operating a motor vehicle, university degrees can be used to assert our level of education, and government-issued passports enable us to travel between countries.  For example: an airline company can issue a flight ticket ("verfiable credential") using schema (issued by DGCA) to the passenger.',active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],selected:null,attributeValues:{},vcCredStatusMap:{},schemaList:[],fullPage:!0,isLoading:!1,holderDid:"",schema_page:1,credUrl:"",QrData:{QRType:"ISSUE_CREDENTIAL",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{removeUrl:function(t){var e=t.split("credential/");return this.shorten(e[1])},copyToClip:function(t,e){var r=this;t&&navigator.clipboard.writeText(t).then((function(){r.notifySuccess("".concat(e," copied!"))})).catch((function(t){r.notifyErr("Error while copying",t)}))},goToSchema:function(){this.$router.push("schema")},openSlider:function(){this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},ssePopulateCredStatus:function(t,e){var r=new EventSource("".concat(this.$config.studioServer.CRED_SSE).concat(t));r.onmessage=function(t){var n=JSON.parse(t.data);"Registered"!==n.status&&"Failed"!==n.status||(r.close(),e.dispatch("insertAcredential",n))},r.onopen=function(t){console.log("Connection to server opened.",t)},r.onerror=function(t){console.log(t),r.close()}},generateCred:function(){var t=Ft(Mt().mark((function t(e){var r,n,o,i,a;return Mt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},o=this.$config.studioServer.BASE_URL+this.$config.studioServer.ACCPCT_CRED_EP,t.next=5,H()(o,n);case 5:return i=t.sent,t.next=8,i.json();case 8:a=t.sent,this.credUrl=a.data.url,this.$root.$emit("modal-show"),this.notifySuccess("Cred Url Generated Successfully");case 12:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},OnSchemaSelectDropDownChange:function(t){if(t){this.issueCredAttributes=[],this.selected=t;for(var e=this.issueCredAttributes.length,r=this.$store.getters.findSchemaBySchemaID(t),n=r.schemaDetails.schema.properties,o=0,i=Object.entries(n);o<i.length;o++){var a=i[o];this.issueCredAttributes.push({id:e+t,type:a[1].type,name:a[0],required:!0===a.required,value:""})}}else this.issueCredAttributes=[]},forceFileDownload:function(t,e){var r=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=r,n.setAttribute("download",e),document.body.appendChild(n),n.click()},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiableCredential),"vc.json")},generateAttributeMap:function(){var t=[];return this.issueCredAttributes.length>0&&this.issueCredAttributes.forEach((function(e){if(console.log(e.type),t[e.name]=e.value,It(e.value))throw new Error("Please enter value in ".concat(e.name," field"))})),t},issueCredential:function(){var t=Ft(Mt().mark((function t(){var e,r,n,o,i,a,s,c,l=this;return Mt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,!It(this.holderDid)){t.next=6;break}return t.abrupt("return",this.notifyErr($t.a.CREDENTIAL.EMPTY_HOLDER_DID));case 6:if(kt(this.holderDid)){t.next=10;break}return t.abrupt("return",this.notifyErr($t.a.CREDENTIAL.INVALID_DID));case 10:if(!It(this.selected)){t.next=12;break}return t.abrupt("return",this.notifyErr($t.a.CREDENTIAL.SELECT_SCHEMA));case 12:return t.next=14,this.generateAttributeMap();case 14:e=t.sent,r=Object.assign({},e),n=this.selected,o=this.user.id,i=this.holderDid,a="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.CRED_ISSUE_EP),s={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},c={fields:r,schemaId:n,issuerDid:o,subjectDid:i,orgDid:this.$store.state.selectedOrgDid},this.QrData.data=c,H()(a,{method:"POST",headers:s,body:JSON.stringify({QR_DATA:this.QrData})}).then((function(t){return t.json()})).then((function(t){var e=t.data,r=e.QR_DATA,n=e.creadRecord;if("success"!==t.message)throw console.log(t),new Error("".concat(t.message));l.notifySuccess("Credential creation initiated. Please approve the trancation from your wallet"),l.$store.dispatch("insertAcredential",n);var o="".concat(l.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(r));l.openWallet(o),l.ssePopulateCredStatus(n._id,l.$store),l.openSlider()})),t.next=31;break;case 26:t.prev=26,t.t0=t["catch"](0),console.log(t.t0),this.isLoading=!1,this.notifyErr("Error: ".concat(t.t0.message));case 31:return t.prev=31,this.isLoading=!1,t.finish(31);case 34:case"end":return t.stop()}}),t,this,[[0,26,31,34]])})));function e(){return t.apply(this,arguments)}return e}(),clearAll:function(){this.holderDid="",this.issueCredAttributes=[],c.$emit("resetOption",this.selected)}},mixins:[a]},Vt=Ht,Gt=(r("49e7"),Object(f["a"])(Vt,Z,X,!1,null,"2f257a46",null)),qt=Gt.exports,Wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.templateList.length>0?e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Presentation")]):e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first presentation template!")]),e("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Presentation Template"},on:{executeAction:function(e){return t.openSlider()}}})],1),e("StudioSideBar",{attrs:{title:"Create Presentation Template"}},[e("div",{staticClass:"form-group row container"},[e("div",{staticClass:"col-md-12"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{staticClass:"floatLeft"},[e("strong",[t._v(" Domain :")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.domain,expression:"presentationTemplate.domain"}],staticClass:"form-control",attrs:{type:"url",disabled:""},domProps:{value:t.presentationTemplate.domain},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"domain",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Name for the Presentation template"}}),e("label",[e("strong",[t._v("Name (optional) :")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.name,expression:"presentationTemplate.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.name},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"name",e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" IssuerDid :")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.issuerDid,expression:"presentationTemplate.issuerDid"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.presentationTemplate.issuerDid},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"issuerDid",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Select Schema to create template"}}),e("label",{attrs:{for:"forselectschema"}},[e("strong",[t._v("Select Schema"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("hf-select-drop-down",{attrs:{options:t.selectOptions},on:{selected:function(e){t.OnSchemaSelectDropDownChange(e)}}}),1===t.selectOptions.length?e("div",{staticClass:"mt-2"},[e("tool-tip",{attrs:{infoMessage:"To create Presentation template you need to have atleast one schema"}}),e("span",{staticClass:"goschema",on:{click:function(e){return t.goToSchema()}}},[t._v("Create Schema")])],1):t._e()],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Reason for the template"}}),e("label",[e("strong",[t._v("Reason"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.reason,expression:"presentationTemplate.reason"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.presentationTemplate.reason},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"reason",e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Callback URI"}}),e("label",[e("strong",[t._v("Callback URI"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.callbackUrl,expression:"presentationTemplate.callbackUrl"}],staticClass:"form-control",attrs:{type:"url"},domProps:{value:t.presentationTemplate.callbackUrl},on:{input:function(e){e.target.composing||t.$set(t.presentationTemplate,"callbackUrl",e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Required"}}),e("label",[e("strong",[t._v("Required :")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.presentationTemplate.required,expression:"presentationTemplate.required"}],staticClass:"ml-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.presentationTemplate.required)?t._i(t.presentationTemplate.required,null)>-1:t.presentationTemplate.required},on:{change:function(e){var r=t.presentationTemplate.required,n=e.target,o=!!n.checked;if(Array.isArray(r)){var i=null,a=t._i(r,i);n.checked?a<0&&t.$set(t.presentationTemplate,"required",r.concat([i])):a>-1&&t.$set(t.presentationTemplate,"required",r.slice(0,a).concat(r.slice(a+1)))}else t.$set(t.presentationTemplate,"required",o)}}})],1)]),e("hr"),e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Save"},on:{executeAction:function(e){return t.generatePresentation()}}})],1)])])],1)]),t.templateList.length>0?e("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),e("tbody",t._l(t.templateList,(function(r){return e("tr",{key:r},[e("td",[t._v(t._s(r._id))]),e("td",[t._v(t._s(r.domain))]),e("td",[t._v(t._s(r.name))]),e("td",[t._v(t._s(r.issuerDid.toString()))]),e("td",[t._v(t._s(t.shorten(r.schemaId)))]),e("td",[t._v(t._s(r.reason))]),e("td",[t._v(t._s(r.callbackUrl))])])})),0)])])]):t._e()],1)},zt=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("Template Id ")]),e("th",[t._v("Domain")]),e("th",[t._v("Name")]),e("th",[t._v("Issuer DID")]),e("th",[t._v("Schema Id")]),e("th",[t._v("Reason")]),e("th",[t._v("CallbackUrl")])])])}];function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}var Yt=void 0;function Qt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Qt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Jt(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,s(v,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function Kt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function Zt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Kt(i,n,o,a,s,"next",t)}function s(t){Kt(i,n,o,a,s,"throw",t)}a(void 0)}))}}var Xt=P["a"].hypersignSDK,te={name:"Presentation",components:{QrcodeVue:x["a"],Info:it,StudioSideBar:vt,HfButtons:m,Loading:N.a,HfSelectDropDown:wt,ToolTip:Tt},computed:{templateList:function(){return this.$store.state.templateList},selectedOrg:function(){return this.$store.getters.getSelectedOrg},selectOptions:function(){return this.$store.getters.listOfAllSchemaOptions}},data:function(){return{description:"The subject (or holder) generates verifiable presentation from one or more verifiable       credentials, issued by one or more issuers, that is shared with a specific verifier.       A verifiable presentation is a tamper-evident presentation encoded in such a way that       authorship of the data can be trusted after a process of cryptographic verification.       Certain types of verifiable presentations might contain data that is synthesized from,       but do not contain, the original verifiable credentials for example, in order to proof the       subject that he/she is an adult, she/he does not have to tell his/her actual age       (i.e. Zero knowledge proof). The airline passenger might not have to show the complete ticket      to the secruity personal to pass the security check. The passenger will have ability to show       just one document (the verifiable presentation) derived from his passport and air ticket to      show at the security check.",presentationTemplate:{queryType:"QueryByExample",domain:"",name:"",issuerDid:"",schemaId:"",reason:"",required:!0,callbackUrl:""},selected:null,active:0,host:location.hostname,user:{},prevRoute:null,attributeName:"",attributes:[],issueCredAttributes:[],radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",credentials:JSON.parse(localStorage.getItem("credentials")),subjectDid:"did:hs:AmitKumar",radioOptions:[{text:"Create new schema",value:"create"},{text:"Select existing schema",value:"existing"}],attributeValues:{},authToken:localStorage.getItem("authToken"),schemaMap:{},vcList:[],schemaList:[],fullPage:!0,isLoading:!1,holderDid:"did:hs:8b915133-cb8b-4151-9a63-1b91f702297f",signedVerifiablePresentation:{},presentationDetails:{credentialType:{}},isClaims:!1}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{goToSchema:function(){this.$router.push("schema")},OnSchemaSelectDropDownChange:function(t){t?(this.selected=t,this.presentationTemplate.schemaId=this.selected):this.schemaId=""},clearAll:function(){c.$emit("resetOption",this.selected),this.presentationTemplate.issuerDid="",this.presentationTemplate.domain="",this.presentationTemplate.name="",this.presentationTemplate.required=!0,this.presentationTemplate.callbackUrl="",this.presentationTemplate.reason=""},openSlider:function(){this.clearAll(),this.presentationTemplate.issuerDid=JSON.parse(localStorage.getItem("user")).id,this.presentationTemplate.domain=this.selectedOrg.domain,this.$root.$emit("bv::toggle::collapse","sidebar-right")},showClaims:function(){this.isClaims?this.isClaims=!1:this.isClaims=!0},notifySuccess:function(t){this.$notify({group:"foo",title:"Information",type:"success",text:t})},notifyErr:function(t){this.$notify({group:"foo",title:"Error",type:"error",text:t})},fetchData:function(t){var e=this;H()(t).then((function(t){return t.json()})).then((function(t){if(200!=t.status)throw new Error(t.error);return t.message})).catch((function(t){return e.notifyErr("Error: ".concat(t.message))}))},gotosubpage:function(t){Yt.$router.push("".concat(t))},addBlankAttrBox:function(){" "!=this.attributeName&&(this.attributes.push(this.attributeName),this.attributeName=" ")},downloadCredentials:function(){this.forceFileDownload(JSON.stringify(this.signedVerifiablePresentation),"vp.json")},onfileLoadSuccess:function(t){var e=JSON.parse(t.target.result);e||this.notifyErr("Incorrect file");var r=e["type"];r.find((function(t){return"VerifiableCredential"==t}))?(localStorage.removeItem("credential"),localStorage.setItem("credential",JSON.stringify(e))):r.find((function(t){return"VerifiablePresentation"==t}))?(localStorage.removeItem("presentation"),localStorage.setItem("presentation",JSON.stringify(e))):this.notifyErr("Invalid file")},readFile:function(t,e){var r=new FileReader;r.onload=e,r.readAsText(t)},onFileChange:function(t){var e=t.target.files[0];this.readFile(e,this.onfileLoadSuccess)},generatePresentation:function(){var t=Zt(Qt().mark((function t(){var e,r,n,o,i=this;return Qt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=this.presentationTemplate.issuerDid.split(","),!It(this.presentationTemplate.schemaId)){t.next=7;break}return t.abrupt("return",this.notifyErr($t.a.CREDENTIAL.SELECT_SCHEMA));case 7:if(!It(this.presentationTemplate.reason)){t.next=11;break}return t.abrupt("return",this.notifyErr($t.a.PRESENTATION.REASON));case 11:if(!It(this.presentationTemplate.callbackUrl)){t.next=15;break}return t.abrupt("return",this.notifyErr($t.a.PRESENTATION.CALLBACK_URL));case 15:if(Nt(this.presentationTemplate.callbackUrl)){t.next=17;break}return t.abrupt("return",this.notifyErr($t.a.PRESENTATION.INVALID_URL));case 17:r={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)},n={issuerDid:e,queryType:this.presentationTemplate.queryType,domain:this.presentationTemplate.domain,name:this.presentationTemplate.name,schemaId:this.presentationTemplate.schemaId,reason:this.presentationTemplate.reason,required:this.presentationTemplate.required,callbackUrl:this.presentationTemplate.callbackUrl,orgDid:this.$store.state.selectedOrgDid},o="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.PRESENTATION_TEMPLATE_EP),H()(o,{body:JSON.stringify(n),method:"POST",headers:r}).then((function(t){return t.json()})).then((function(t){i.$store.commit("insertApresentationTemplate",t.data.presentationTemplateObj),i.notifySuccess("Template Successfully created"),i.openSlider()})),t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 27:return t.prev=27,this.isLoading=!1,t.finish(27);case 30:case"end":return t.stop()}}),t,this,[[1,23,27,30]])})));function e(){return t.apply(this,arguments)}return e}(),viewPresentation:function(){this.isLoading=!0;try{var t=JSON.parse(localStorage.getItem("presentation"));if(!t)throw new Error("Please select verifiable presentation file");var e=t.verifiableCredential[0];this.presentationDetails={},this.presentationDetails.credentialType={name:e.type[1],url:e["@context"][1]["hsscheme"]},this.presentationDetails.issuerDid=e.issuer,this.presentationDetails.holderDid=e.credentialSubject.id,this.presentationDetails.issuanceDate=e.issuanceDate,this.presentationDetails.expirationDate=e.expirationDate,this.presentationDetails.claim=e.credentialSubject}catch(r){this.isLoading=!1,this.notifyErr(r.message)}},clear:function(){this.presentationDetails="",localStorage.removeItem("presentation"),localStorage.removeItem("credential"),this.$refs.vpFile.value=null,this.$refs.vcFile.value=null,this.signedVerifiablePresentation={},this.isCredentialIssued=!1},verifyPresentation:function(){var t=Zt(Qt().mark((function t(){var e,r,n;return Qt().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoading=!0,t.prev=1,e=JSON.parse(localStorage.getItem("presentation")),e){t.next=5;break}throw new Error("Please select verifiable presentation file");case 5:return r=e.verifiableCredential[0],t.next=8,Xt.credential.verifyPresentation({presentation:e,challenge:"test_challenge",issuerDid:r.issuer,holderDid:r.credentialSubject.id});case 8:n=t.sent,n.verified?this.notifySuccess("Presentation verified"):this.notifyErr("Presentation can not verified"),this.isLoading=!1,this.clear(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](1),this.isLoading=!1,this.notifyErr(t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,14]])})));function e(){return t.apply(this,arguments)}return e}()},mixins:[a]},ee=te,re=(r("4f5a"),Object(f["a"])(ee,Wt,zt,!1,null,"6e3d8c58",null)),ne=re.exports,oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("h2",[t._v("Welcome, "+t._s(t.user.name)+" !")]),e("Metrics"),e("org-sidebar")],1)},ie=[],ae=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row",staticStyle:{padding:"10px"}},[e("div",{staticClass:"col-md-6",staticStyle:{"margin-left":"40%"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[t._v("\n            NETWORK DETAILS "),!0===t.networkStatus.result.listening?e("span",{staticClass:"dot"}):t._e()]),e("div",{staticClass:"card-body leftAlign"},[e("p",[t._v("NETWORK\n            ")]),e("p",{staticClass:"fVal"},[t._v(t._s(t.networkStatus.result.peers[0].node_info.network.toUpperCase()+"  NETWORK"))]),e("p",[t._v("NODE URL\n            ")]),e("p",{staticClass:"fVal"},[e("a",{attrs:{href:t.networkStatus.nodeUrl,target:"_blank"}},[t._v(t._s(this.$config.nodeServer.BASE_URL))])]),e("p",[t._v("EXPLORER URL\n            ")]),e("p",{staticClass:"fVal"},[e("a",{attrs:{href:t.networkStatus.explorerUrl,target:"_blank"}},[t._v(t._s(this.$config.explorer.BASE_URL))])])])])])])},se=[];function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}var le=void 0;function ue(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ue=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==ce(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,s(v,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function de(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?de(Object(r),!0).forEach((function(e){fe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pe(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function me(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){pe(i,n,o,a,s,"next",t)}function s(t){pe(i,n,o,a,s,"throw",t)}a(void 0)}))}}var ge={name:"PanelPage",mounted:function(){},components:{},data:function(){return{active:0,networkStatus:{result:{listening:"false",listeners:[],n_peers:"",peers:[{}]},status:"DOWN",nodeUrl:"",explorerUrl:this.$config.explorer.BASE_URL,schemaCount:"0",didCount:"0"}}},created:function(){var t=me(ue().mark((function t(){var e,r=this;return ue().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="".concat(this.$config.nodeServer.BASE_URL).concat(this.$config.nodeServer.NETWORK_STATUS_EP),t.next=3,fetch(e).then((function(t){return t.json()})).then((function(t){r.networkStatus=he({},t),console.log(r.networkStatus.result.peers[0])})).catch((function(t){return alert("Error: ".concat(t.message))}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{gotosubpage:function(t){le.$router.push("".concat(t))}}},ve=ge,ye=(r("f1f1"),Object(f["a"])(ve,ae,se,!1,null,"3109faa8",null)),be=ye.exports,Se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.schemasCount))]),e("div",{staticClass:"card-header"},[t._v("AUTHORED SCHEMAS")])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.credentialsCount))]),e("div",{staticClass:"card-header"},[t._v("ISSUED CREDENTIALS")])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.orgsCount))]),e("div",{staticClass:"card-header"},[t._v("ORGANIZATIONS")])])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body tile"},[t._v(t._s(t.allMetricsData.templatesCount))]),e("div",{staticClass:"card-header"},[t._v("PRESENTATION TEMPLATES")])])])])},_e=[];function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}var we=void 0;function Oe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Oe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(L){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=c;var u={};function d(){}function h(){}function f(){}var p={};s(p,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(O([])));g&&g!==e&&r.call(g,o)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Ee(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,u;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,s(v,"constructor",f),s(f,"constructor",h),h.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},t}function Ce(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(l){return void r(l)}s.done?e(c):Promise.resolve(c).then(n,o)}function Le(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ce(i,n,o,a,s,"next",t)}function s(t){Ce(i,n,o,a,s,"throw",t)}a(void 0)}))}}function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(r),!0).forEach((function(e){Te(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Te(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pe={name:"Metrics",mounted:function(){},components:{},computed:{allMetricsData:function(){return this.$store.getters.allMetricsData}},data:function(){return{active:0,userKeys:[],appList:[],user:{id:"",publicKey:"",email:"",phoneNumber:"",fname:""},authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=Ae({},JSON.parse(t)),this.userKeys=Object.keys(this.user),this.authToken&&this.profile()},methods:{profile:function(){var t=Le(Oe().mark((function t(){var e,r,n,o;return Oe().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="",r={},e="".concat(this.$config.studioServer.BASE_URL,"api/v1/user/profile"),r={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}},t.next=6,fetch(e,r);case 6:return n=t.sent,t.next=9,n.json();case 9:o=t.sent,this.$store.commit("addCountDataToProfile",o.data);case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),gotosubpage:function(t){we.$router.push("".concat(t))}}},De=Pe,Ne=(r("0019"),Object(f["a"])(De,Se,_e,!1,null,"51eeb43e",null)),Ie=Ne.exports,Re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.orgList.length>0?e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Organizations")]):e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first organization!")]),e("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Organization"},on:{executeAction:function(e){return t.openSlider()}}})],1),e("StudioSideBar",{attrs:{title:t.edit?"Edit Organization":"Add Organization"}},[e("div",{staticClass:"container"},[!0===t.edit?e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Your Organization DID"}}),e("label",{attrs:{for:"orgDid"}},[e("strong",[t._v("Org DID"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(": ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.orgDid,expression:"orgStore.orgDid"}],staticClass:"form-control",attrs:{type:"text",id:"orgDid","aria-describedby":"orgNameHelp",disabled:""},domProps:{value:t.orgStore.orgDid},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"orgDid",e.target.value)}}}),e("small",{staticClass:"form-text text-muted",attrs:{id:"orgNameHelp"}},[e("a",{attrs:{href:"".concat(t.$config.nodeServer.BASE_URL_REST).concat(t.$config.nodeServer.DID_RESOLVE_EP).concat(t.orgStore.orgDid,":"),target:"_blank"}},[t._v("Resolve DID")])])],1):t._e(),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Your Organization Name"}}),e("label",{attrs:{for:"orgName"}},[e("strong",[t._v("Organization Name"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.name,expression:"orgStore.name"}],staticClass:"form-control",attrs:{type:"text",id:"orgName","aria-describedby":"orgNameHelp",placeholder:"Enter your org name"},domProps:{value:t.orgStore.name},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"name",e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Your Organization Domain Name"}}),e("label",{attrs:{for:"domain"}},[e("strong",[t._v("Domain"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.orgStore.domain,expression:"orgStore.domain"}],staticClass:"form-control",attrs:{type:"text",id:"domain","aria-describedby":"domainHelp",placeholder:"Enter your domain name"},domProps:{value:t.orgStore.domain},on:{input:function(e){e.target.composing||t.$set(t.orgStore,"domain",e.target.value)}}})],1),t.edit?e("div",{staticClass:"form-group"},[e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Update"},on:{executeAction:function(e){return t.createAnOrg()}}})],1):e("div",{staticClass:"form-group"},[e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Save"},on:{executeAction:function(e){return t.createAnOrg()}}})],1)])]),t.orgList.length>0?e("div",{staticClass:"row"},t._l(t.orgList,(function(r){return e("div",{key:r._id,staticClass:"col-lg-4"},[e("b-card",{staticClass:"mb-2 eventCard",staticStyle:{"max-width":"30rem","margin-top":"10px","max-height":"25rem"},attrs:{title:t.truncate(r.name,20),tag:"article","img-top":""}},[e("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px","min-height":"80px"}},[e("li",[e("span",{staticClass:"card-title"},[e("a",{attrs:{target:"_blank",href:"".concat(t.$config.explorer.BASE_URL,"identity/").concat(r.orgDid)}},[t._v(t._s(t.truncate(r.orgDid,45)))])]),"Registered"===r.status?e("span",{on:{click:function(e){return t.copyToClip(r.orgDid,"Org DID")}}},[e("i",{staticClass:"far fa-copy"})]):t._e()]),e("li",[e("span",{staticClass:"card-title"},[t._v(t._s(r.network))])]),e("li",[e("span",{staticClass:"card-title"},[t._v(t._s(t.truncate(r.domain,40)))])])]),e("footer",[e("div",{staticClass:"form-group row",staticStyle:{"margin-bottom":"0rem"}},[e("div",{staticClass:"col-sm-10"},[e("ul",{staticStyle:{"list-style-type":"none","padding-left":"0px"}},["Failed"===r.status?e("li",[e("span",{staticClass:"card-title"},[e("img",{attrs:{src:t.images.redcross,height:"25",width:"25"}}),t._v(" Failed\n            ")])]):"Registered"===r.status?e("li",[e("span",{staticClass:"card-title"},[e("img",{attrs:{src:t.images.greentick,height:"21",width:"21"}}),t._v(" Registered\n            ")])]):e("li",[e("span",{staticClass:"card-title"},[e("img",{attrs:{src:t.images.loader,height:"25",width:"25"}}),t._v(" Processing ..... \n            ")])])])]),"Registered"===r.status?e("div",{staticClass:"pt-1 pl-2"},[e("i",{staticClass:"fas fa-pencil-alt",staticStyle:{cursor:"pointer"},attrs:{title:"Click to edit this event"},on:{click:function(e){return t.editOrg(r._id)}}}),e("span",{staticClass:"ml-3"}),e("i",{staticClass:"fas fa-sync",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true",title:"Click to switch to org"},on:{click:function(e){return t.switchOrg(r._id)}}})]):t._e()])])])],1)})),0):t._e()],1)},ke=[];function je(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?je(Object(r),!0).forEach((function(e){Ue(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Me={computed:{orgList:function(){return this.$store.state.orgList}},data:function(){return{edit:!1,orgStore:{name:"Hypermine Pvt Ltd",domain:"hypermine.in",network:"Jagrat",orgDid:"",userDid:"",status:""},authToken:localStorage.getItem("authToken"),isLoading:!0,isProcessFinished:!0,images:{greentick:r("478e"),redcross:r("d199"),loader:r("b982")}}},components:{HfPopUp:dt,Loading:N.a,StudioSideBar:vt,HfButtons:m,ToolTip:Tt},methods:{ssePopulateOrg:function(t,e){var r=new EventSource("".concat(this.$config.studioServer.ORG_SSE).concat(t));r.onmessage=function(t){var n=JSON.parse(t.data);"Registered"!==n.status&&"Failed"!==n.status||(r.close(),e.commit("insertAnOrg",n),e.commit("increaseOrgCount"))},r.onopen=function(t){console.log("Connection to server opened.",t)},r.onerror=function(t){console.log(t),r.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),this.isProcessFinished=!1)},copyToClip:function(t,e){var r=this;t&&navigator.clipboard.writeText(t).then((function(){r.notifySuccess("".concat(e," copied!"))})).catch((function(t){r.notifyErr("Error while copying",t)}))},switchOrg:function(t){localStorage.setItem("selectedOrg",t),this.$store.commit("updateSideNavStatus",!0),this.$store.commit("selectAnOrg",t),this.$router.push("/studio/credential"),this.$store.dispatch("fetchAllOrgDataOnOrgSelect",t)},openSlider:function(){this.edit=!1,this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},editOrg:function(t){this.edit=!0,this.$root.$emit("bv::toggle::collapse","sidebar-right"),Object.assign(this.orgStore,$e({},this.$store.getters.findOrgByOrgID(t)))},createAnOrg:function(){var t,e,r=this;if(It(this.orgStore.name))return this.notifyErr($t.a.ORGANIZATION.ORGANIZATION_NAME_EMPTY);if(Nt(this.orgStore.name))return this.notifyErr($t.a.ORGANIZATION.INVALID_ORG_NAME);if(It(this.orgStore.domain))return this.notifyErr($t.a.ORGANIZATION.DOMAIN_NAME_EMPTY);this.edit?(e="PUT",t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org")):(t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),e="POST");var n={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};this.orgStore.userDid=JSON.parse(localStorage.getItem("user")).id;var o={orgData:this.orgStore};this.isLoading=!0,fetch(t,{method:e,body:JSON.stringify(o),headers:n}).then((function(t){return t.json()})).then((function(t){var e=t.data.org;if(!r.edit){var n=t.data.QrData,o="".concat(r.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(n));r.openWallet(o)}!1===t.error&&(r.edit||(r.$store.commit("insertAnOrg",t.data.org),r.$store.commit("selectAnOrg",t.data.org._id),r.isProcessFinished=!0,r.openSlider(),r.notifySuccess("Org Created successfull"),r.ssePopulateOrg(e._id,r.$store)),!0===r.edit&&(r.$store.commit("updateAnOrg",t.data.org),r.notifySuccess("Org Edited successfull"),r.$root.$emit("bv::toggle::collapse","sidebar-right")))})).catch((function(t){console.log(t),r.notifyError("Something went wrong")})).finally((function(){r.isLoading=!1}))},clearAll:function(){this.orgStore={name:"",domain:"",network:"",orgDid:"",userDid:"",status:""}}},mixins:[a]},Be=Me,Fe=(r("4093"),Object(f["a"])(Be,Re,ke,!1,null,"539413b9",null)),He=Fe.exports,Ve=void 0,Ge={name:"PanelPage",components:{Dashboard:be,Metrics:Ie,OrgSidebar:He},data:function(){return{appList:[],user:{},appName:"",authToken:localStorage.getItem("authToken")}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!1),this.$store.commit("selectAnOrg",""),localStorage.removeItem("selectedOrg"),c.$emit("closeSideNav")},methods:{gotosubpage:function(t){Ve.$router.push("".concat(t))},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("credentials"),localStorage.removeItem("userData"),null!=this.$route.params.nextUrl?this.$router.push(this.$route.params.nextUrl):this.$router.push("/login")}}},qe=Ge,We=(r("30ae"),Object(f["a"])(qe,oe,ie,!1,null,"ad59ff4a",null)),ze=We.exports,Je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":t.fullPage},on:{"update:active":function(e){t.isLoading=e}}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12",staticStyle:{"text-align":"left"}},[e("Info",{attrs:{message:t.description}}),e("div",{staticClass:"form-group",staticStyle:{display:"flex"}},[t.schemaList.length>0?e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Schema")]):e("h3",{staticClass:"mt-4",staticStyle:{"text-align":"left"}},[t._v("Create your first schema!")]),e("hf-buttons",{staticClass:"btn btn-primary ml-auto mt-4",staticStyle:{"text-align":"right"},attrs:{name:"+ Schema"},on:{executeAction:function(e){return t.openSlider()}}})],1),e("StudioSideBar",{attrs:{title:"Create Schema"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Name of the schema"}}),e("label",{attrs:{for:"schemaName"}},[e("strong",[t._v("Schema Name"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.credentialName,expression:"credentialName"}],staticClass:"form-control",attrs:{type:"text",id:"schemaName","aria-describedby":"schemaNameHelp"},domProps:{value:t.credentialName},on:{input:function(e){e.target.composing||(t.credentialName=e.target.value)}}})],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Description for the schema"}}),e("label",{attrs:{for:"schDescription"}},[e("strong",[t._v("Description:")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.credentialDescription,expression:"credentialDescription"}],staticClass:"form-control",attrs:{type:"text",id:"schDescription",rows:"5",cols:"20","aria-describedby":"orgNameHelp"},domProps:{value:t.credentialDescription},on:{input:function(e){e.target.composing||(t.credentialDescription=e.target.value)}}})],1),e("div",{staticClass:"form-group card"},[e("div",{staticClass:"card-header"},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"text-left",staticStyle:{"text-decoration":"none"},attrs:{block:"",variant:"link","aria-expanded":t.visible?"true":"false","aria-controls":"collapse-1",title:"Create schema configuration"},on:{click:function(e){t.visible=!t.visible}}},[t._v("Fields Configurations\n                  "),e("i",{class:t.visible?"fa fa-arrow-up":"fa fa-arrow-down",staticStyle:{float:"right"}})])],1),e("b-collapse",{staticClass:"mt-2",staticStyle:{padding:"10px"},attrs:{id:"collapse-1"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.attributes.length>0?e("div",{staticClass:"form-group tile"},t._l(t.attributes,(function(r){return e("div",{key:r.type},[e("div",{staticClass:"sm-tiles"},[t._v("\n                        "+t._s(r.name)+"\n                        "),e("span",[t._v("x")])])])})),0):t._e(),e("div",{staticClass:"row g-3 align-items-center w-100"},[e("div",{staticClass:"col-lg-3 col-md-3 text-left"},[e("tool-tip",{attrs:{infoMessage:"Attribute Name"}}),e("label",{staticClass:"col-form-label",attrs:{for:"attributeName"}},[t._v("Name"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(": ")])],1),e("div",{staticClass:"col-lg-9 col-md-9 px-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeName,expression:"attributeName"}],staticClass:"form-control w-100",attrs:{type:"text",id:"attributeName",placeholder:""},domProps:{value:t.attributeName},on:{input:function(e){e.target.composing||(t.attributeName=e.target.value)}}})])]),e("div",{staticClass:"row g-3 align-items-center w-100 mt-4"},[e("div",{staticClass:"col-lg-3 col-md-3 text-left"},[e("tool-tip",{attrs:{infoMessage:"Type of the attribute"}}),e("label",{staticClass:"col-form-label",attrs:{for:"type"}},[t._v("Type"),e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")])],1),e("div",{staticClass:"col-lg-9 col-md-9 px-0"},[e("hf-select-drop-down",{attrs:{options:t.options},on:{selected:function(e){return t.attributeTypes=e}}})],1)]),e("div",{staticClass:"row g-3 align-items-center w-100 mt-4"},[e("div",{staticClass:"col-lg-3 col-md-3 text-left"},[e("tool-tip",{attrs:{infoMessage:"Format of the attribute"}}),e("label",{staticClass:"col-form-label",attrs:{for:"format"}},[t._v("Format: ")])],1),e("div",{staticClass:"col-lg-9 col-md-9 px-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeFormat,expression:"attributeFormat"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Enter attribute Format (eg email)",id:"type"},domProps:{value:t.attributeFormat},on:{input:function(e){e.target.composing||(t.attributeFormat=e.target.value)}}})])]),e("div",{staticClass:"row g-3 align-items-center w-100 mt-4"},[e("div",{staticClass:"col-lg-3 col-md-3 text-left"},[e("tool-tip",{attrs:{infoMessage:"Required field"}}),e("label",{staticClass:"col-form-label",attrs:{for:"required"}},[t._v("Required: ")])],1),e("div",{staticClass:"col-lg-9 col-md-9 px-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.attributeRequired,expression:"attributeRequired"}],attrs:{type:"checkbox",id:"required"},domProps:{checked:Array.isArray(t.attributeRequired)?t._i(t.attributeRequired,null)>-1:t.attributeRequired},on:{change:function(e){var r=t.attributeRequired,n=e.target,o=!!n.checked;if(Array.isArray(r)){var i=null,a=t._i(r,i);n.checked?a<0&&(t.attributeRequired=r.concat([i])):a>-1&&(t.attributeRequired=r.slice(0,a).concat(r.slice(a+1)))}else t.attributeRequired=o}}})])]),e("div",{staticClass:"form-group row mt-4"},[e("div",{staticClass:"col-sm-10"},[e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Add +"},on:{executeAction:function(e){return t.addBlankAttrBox()}}})],1)])])],1),e("div",{staticClass:"form-group"},[e("tool-tip",{attrs:{infoMessage:"Additional Properties"}}),e("label",{attrs:{for:"schDescription"}},[e("strong",[t._v("Additional Properties?:")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.additionalProperties,expression:"additionalProperties"}],staticStyle:{"margin-left":"5px"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.additionalProperties)?t._i(t.additionalProperties,null)>-1:t.additionalProperties},on:{change:function(e){var r=t.additionalProperties,n=e.target,o=!!n.checked;if(Array.isArray(r)){var i=null,a=t._i(r,i);n.checked?a<0&&(t.additionalProperties=r.concat([i])):a>-1&&(t.additionalProperties=r.slice(0,a).concat(r.slice(a+1)))}else t.additionalProperties=o}}})],1),e("div",{staticClass:"form-group row"},[e("div",{staticClass:"col-md-12"},[e("hr"),e("hf-buttons",{staticClass:"btn btn-primary",attrs:{name:"Save"},on:{executeAction:function(e){return t.createSchema()}}})],1)])])])],1)]),t.schemaList.length>0?e("div",{staticClass:"row",staticStyle:{"margin-top":"2%"}},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table table-bordered",staticStyle:{background:"#FFFF"}},[t._m(0),e("tbody",t._l(t.schemaList,(function(r){return e("tr",{key:r._id},[e("td",[e("a",{attrs:{href:"".concat(t.$config.nodeServer.BASE_URL_REST).concat(t.$config.nodeServer.SCHEMA_GET_REST).concat(r.schemaId,":"),target:"_blank"}},[t._v(t._s(r.schemaId?t.shorten(r.schemaId):"-"))])]),e("td",[t._v(t._s(r.schemaDetails?r.schemaDetails.name:"-"))]),e("td",[t._v(t._s(r.schemaDetails?r.schemaDetails.modelVersion:"-"))]),e("td",{staticClass:"word-wrap"},[t._v(t._s(r.schemaDetails?r.schemaDetails.schema.description:"-"))]),e("td",{staticClass:"word-wrap"},[t._v(t._s(r.schemaDetails?Object.keys(r.schemaDetails.schema.properties).toString():"-"))]),e("td",[t._v(t._s(r.schemaDetails?r.schemaDetails.authored:"-"))]),e("td",{staticStyle:{"word-wrap":"break-word","min-width":"200px","max-width":"200px"}},[r.transactionHash?e("a",{attrs:{target:"_blank",href:"".concat(t.$config.explorer.BASE_URL,"tx/").concat(r.transactionHash)}},[t._v(t._s(t.shorten(r.transactionHash)))]):e("span",[t._v("-")])]),e("td",[t._v(t._s(r.status))])])})),0)])])]):t._e()],1)},Ye=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",[t._v("Schema Id")]),e("th",[t._v("Name")]),e("th",[t._v("Model Version")]),e("th",[t._v("Description")]),e("th",[t._v("Properties")]),e("th",[t._v("Created At")]),e("th",[t._v("Transaction Hash")]),e("th",[t._v("Status")])])])}],Qe=void 0,Ke={name:"IssueCredential",components:{QrcodeVue:x["a"],Info:it,Loading:N.a,StudioSideBar:vt,HfButtons:m,HfSelectDropDown:wt,ToolTip:Tt},computed:{schemaList:function(){return this.$store.state.schemaList},selectedOrg:function(){return this.$store.getters.getSelectedOrg}},data:function(){return{description:"Credential Schema defines what information will go inside a verifiable credential. For example: Directorate General of Civil Aviation (DGCA) can define a schema (or format) for flights tickets, being issued by all airline companies in India.",active:0,host:location.hostname,user:{},options:[{text:"Select Type",value:null},{text:"String",value:"STRING"},{text:"Int",value:"INT"},{text:"Float",value:"FLOAT"},{text:"Date",value:"DATE"}],page:1,visible:!1,prevRoute:null,attributeName:"",attributeTypes:null,attributeFormat:"",attributeRequired:!1,attributes:[],issueCredAttributes:[],additionalProperties:!1,showSchema:!0,radioSelected:"create",credentialName:"",isCredentialIssued:!1,signedVerifiableCredential:"",authToken:localStorage.getItem("authToken"),credentialDescription:"",fullPage:!0,isLoading:!1,QrData:{QRType:"ISSUE_SCHEMA",serviceEndpoint:"",schemaId:"",appDid:"",appName:"Hypersign Studio",challenge:"",provider:"",data:""}}},created:function(){var t=localStorage.getItem("user");this.user=JSON.parse(t),this.$store.commit("updateSideNavStatus",!0)},beforeRouteEnter:function(t,e,r){r((function(t){t.prevRoute=e}))},methods:{openSlider:function(){this.clearAll(),this.$root.$emit("bv::toggle::collapse","sidebar-right")},gotosubpage:function(t){Qe.$router.push("".concat(t))},clearAll:function(){this.visible=!1,this.credentialName="",this.credentialDescription="",this.attributeName="",this.attributeTypes=null,this.attributeFormat="",this.attributeRequired=!1,this.additionalProperties=!1,this.attributes=[]},addBlankAttrBox:function(){if(It(this.attributeName))return this.notifyErr($t.a.SCHEMA.EMPTY_SCHEMA_ATTRIBUTE_NAME);if(Nt(this.attributeName))return this.notifyErr($t.a.SCHEMA.INVALID_ATTRIBUTE_NAME);if(Rt(this.attributeName))return this.notifyErr("There should not be space in attribute name");if(" "===this.attributeTypes||null===this.attributeTypes)return this.notifyErr($t.a.SCHEMA.EMPTY_ATTRIBUTE_TYPE);if(Nt(this.attributeFormat))return this.notifyErr($t.a.SCHEMA.INVALID_FORMAT);var t={name:this.attributeName,type:this.attributeTypes,format:this.attributeFormat,isRequired:this.attributeRequired};this.attributes.push(t),this.attributeName="",c.$emit("resetOption",this.attributeTypes),this.attributeFormat="",this.attributeRequired=!1},ssePopulateSchema:function(t,e){var r=new EventSource("".concat(this.$config.studioServer.SCHEMA_SSE).concat(t));r.onmessage=function(t){var n=JSON.parse(t.data);"Registered"!==n.status&&"Failed"!==n.status||(r.close(),e.dispatch("insertAschema",n))},r.onopen=function(t){console.log("Connection to server opened.",t)},r.onerror=function(t){console.log(t),r.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"))},createSchema:function(){var t=this;try{if(this.isLoading=!0,It(this.credentialName))return this.notifyErr($t.a.SCHEMA.EMPTY_SCHEMA_NAME);if(Nt(this.credentialName))return this.notifyErr($t.a.SCHEMA.INVALID_SCHEMA_NAME);if(0==this.attributes.length)return this.notifyErr($t.a.SCHEMA.EMPTY_SCHEMA_ATTRIBUTE);var e="".concat(this.$config.studioServer.BASE_URL).concat(this.$config.studioServer.SAVE_SCHEMA_EP),r={name:this.credentialName,author:this.user.id,fields:this.attributes,description:this.credentialDescription,additionalProperties:this.additionalProperties,orgDid:this.$store.state.selectedOrgDid};this.QrData.data=r;var n={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};H()(e,{method:"POST",body:JSON.stringify({QR_DATA:this.QrData}),headers:n}).then((function(t){return t.json()})).then((function(e){var r=e.data.QR_DATA;if("success"!==e.message)throw new Error("".concat(e.error));t.notifySuccess("Schema creation initiated. Please approve the transaction from your wallet"),t.$store.dispatch("insertAschema",e.data.schema);var n="".concat(t.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(r));t.openWallet(n),t.ssePopulateSchema(e.data.schema._id,t.$store),t.openSlider()}))}catch(o){console.error(o),this.notifyErr("Error: ".concat(o.message))}finally{this.isLoading=!1}}},mixins:[a]},Ze=Ke,Xe=(r("b9fd"),Object(f["a"])(Ze,Je,Ye,!1,null,"67c6429c",null)),tr=Xe.exports,er=function(){var t=this,e=t._self._c;return e("org-content")},rr=[];function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(r),!0).forEach((function(e){ir(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ir(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ar={computed:{orgList:function(){return this.$store.state.orgList}},data:function(){return{edit:!1,orgStore:{name:"Hypermine Pvt Ltd",domain:"hypermine.in",logo:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.5EZ51foyo3QBV2FHnKq1cwHaEc%26pid%3DApi&f=1",region:"US EAST",network:"Jagrat",orgDid:"",userDid:"",status:""},authToken:localStorage.getItem("authToken"),isLoading:!0,isProcessFinished:!0,images:{greentick:r("478e"),redcross:r("d199"),loader:r("b982")}}},components:{HfPopUp:dt,Loading:N.a,StudioSideBar:vt,OrgContent:He},created:function(){this.$store.commit("updateSideNavStatus",!0)},methods:{ssePopulateOrg:function(t,e){var r=new EventSource("".concat(this.$config.studioServer.ORG_SSE).concat(t));r.onmessage=function(t){var n=JSON.parse(t.data);console.log(n),"Registered"!==n.status&&"Failed"!==n.status||(r.close(),e.commit("insertAnOrg",n))},r.onopen=function(t){console.log("Connection to server opened.",t)},r.onerror=function(t){console.log(t),r.close()}},openWallet:function(t){""!=t&&(this.walletWindow=window.open("".concat(t),"popUpWindow","height=800,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes"),this.isProcessFinished=!1)},switchOrg:function(t){this.$store.commit("selectAnOrg",t),this.$store.dispatch("fetchAllOrgDataOnOrgSelect",t)},openSlider:function(){this.$root.$emit("bv::toggle::collapse","sidebar-right")},editOrg:function(t){this.edit=!0,Object.assign(this.orgStore,or({},this.$store.getters.findOrgByOrgID(t))),this.openSlider()},createAnOrg:function(){var t,e,r=this;this.edit?(e="PUT",t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org")):(t="".concat(this.$config.studioServer.BASE_URL,"api/v1/org"),e="POST");var n={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};this.orgStore.userDid=JSON.parse(localStorage.getItem("user")).id;var o={orgData:this.orgStore};this.isLoading=!0,fetch(t,{method:e,body:JSON.stringify(o),headers:n}).then((function(t){return t.json()})).then((function(t){var e=t.org;if(!r.edit){var n=t.QrData,o="".concat(r.$config.webWalletAddress,"/deeplink?url=").concat(JSON.stringify(n));r.openWallet(o)}200===t.status&&(r.$store.commit("insertAnOrg",t.org),r.$store.commit("selectAnOrg",t.org._id),r.isProcessFinished=!0,r.openSlider(),r.notifySuccess("Org Created successfull"),r.edit&&(r.$store.commit("updateAnOrg",t.org),r.notifySuccess("Org Edited successfull"))),r.edit||(console.log(e),r.ssePopulateOrg(e._id,r.$store))})).catch((function(t){console.log(t),r.notifyError("Something went wrong")})).finally((function(){r.isLoading=!1}))}},mixins:[a]},sr=ar,cr=(r("439f"),Object(f["a"])(sr,er,rr,!1,null,"5214b868",null)),lr=cr.exports,ur=r("2f62");function dr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(r),!0).forEach((function(e){fr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}n["default"].use(ur["a"]);var pr=new ur["a"].Store({state:{schemaList:[],vcList:[],templateList:[],orgList:[],selectedOrgDid:"",showSideNavbar:!1,userProfile:{details:{name:"",email:"",did:""},count:{credentialsCount:0,orgsCount:0,schemasCount:0,templatesCount:0}}},getters:{userDetails:function(t){return t.userProfile.details},allMetricsData:function(t){return t.userProfile.count},sideNavStatus:function(t){return t.showSideNavbar},isAnyOrgSelected:function(t){return""!=t.selectedOrgDid},totalSchemas:function(t){return t.schemaList.length},totalCredentials:function(t){return t.vcList.length},totalTemplateCount:function(t){return t.templateList.length},totalOrgList:function(t){return t.orgList.length},findSchemaBySchemaID:function(t){return function(e){return t.schemaList.find((function(t){return t.schemaId===e}))}},findOrgByOrgID:function(t){return function(e){return t.orgList.find((function(t){return t._id===e}))}},getSelectedOrg:function(t){return t.orgList.find((function(e){return e._id===t.selectedOrgDid}))},listOfAllSchemaOptions:function(t){var e=t.schemaList.map((function(t){return t.schemaId&&void 0!==t.schemaId&&"Registered"===t.status?{text:t.schemaDetails.name,value:t.schemaId}:null}));return e=e.filter((function(t){return t})),e.unshift({value:null,text:"Please select a schema"}),e}},mutations:{resetStore:function(t){t.orgList=[],t.schemaList=[],t.vcList=[],t.templateList=[],t.selectedOrgDid="",t.showSideNavbar=!1,t.userProfile={details:{name:"",email:"",did:""},count:{credentialsCount:0,orgsCount:0,schemasCount:0,templatesCount:0}}},increaseOrgCount:function(t){t.userProfile.count.orgsCount+=1},addUserDetailsToProfile:function(t,e){t.userProfile.details.name=e.name,t.userProfile.details.email=e.email,t.userProfile.details.did=e.id},addCountDataToProfile:function(t,e){t.userProfile.count=hr({},e)},selectAnOrg:function(t,e){t.selectedOrgDid=e},updateSideNavStatus:function(t,e){t.showSideNavbar=e},insertAschema:function(t,e){t.schemaList.find((function(t){return t._id===e._id}))?(console.log("already exists scheme id ="+e._id),this.commit("updateAschema",e)):t.schemaList.push(e)},insertAnOrg:function(t,e){t.orgList.find((function(t){return t._id===e._id}))?(console.log("already exists scheme id ="+e._id),this.commit("updateAnOrg",e)):t.orgList.push(e)},updateAschema:function(t,e){var r=t.schemaList.findIndex((function(t){return t._id===e._id}));Object.assign(t.schemaList[r],hr({},e))},updateAnOrg:function(t,e){var r=t.orgList.findIndex((function(t){return t._id===e._id}));Object.assign(t.orgList[r],hr({},e))},insertApresentationTemplate:function(t,e){t.templateList.find((function(t){return t._id===e._id}))||t.templateList.push(e)},insertAcredential:function(t,e){t.vcList.find((function(t){return t._id===e._id}))?(console.log("already exists credential id ="+e._id),this.commit("updateAcredential",e)):t.vcList.push(e)},updateAcredential:function(t,e){var r=t.vcList.findIndex((function(t){return t._id===e._id}));Object.assign(t.vcList[r],hr({},e))},updateSidebarStatus:function(t,e){t.showSideNavbar=e}},actions:{insertAschema:function(t,e){var r=t.commit,n=e.schemaId;if(n){var o="".concat(P["a"].nodeServer.BASE_URL_REST).concat(P["a"].nodeServer.SCHEMA_GET_REST).concat(n,":");fetch(o).then((function(t){return t.json()})).then((function(t){var n=t.schema[0];if(n.schema.properties){var o=n.schema.properties,i=JSON.parse(o);n.schema.properties=i}e["schemaDetails"]=n,r("insertAschema",e)})).catch((function(t){return console.log(t)}))}else r("insertAschema",e)},insertAcredential:function(t,e){var r=t.commit,n=e.vc_id;n?fetch(n+":").then((function(t){return t.json()})).then((function(t){Object.assign(e,hr({},t)),r("insertAcredential",e)})).catch((function(t){return console.log})):r("insertAcredential",e)},fetchAllOrgDataOnOrgSelect:function(t,e){var r=this;t.commit;this.authToken=localStorage.getItem("authToken");var n="".concat(P["a"].studioServer.BASE_URL,"api/v1/presentation/template/org/").concat(this.getters.getSelectedOrg._id,"/"),o={"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)};fetch(n,{headers:o}).then((function(t){return t.json()})).then((function(t){0!==t.data.length?(r.state.templateList=[],t.data.forEach((function(t){r.commit("insertApresentationTemplate",t)}))):r.state.templateList=[]}));var i="".concat(P["a"].studioServer.BASE_URL).concat(P["a"].studioServer.SCHEMA_LIST_EP,"/").concat(this.getters.getSelectedOrg._id,"/?page=1&limit=10"),a={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}};fetch(i,{headers:a.headers}).then((function(t){return t.json()})).then((function(t){t&&0!==t.data.schemaList.length?(r.state.schemaList=[],t.data.schemaList.forEach((function(t){r.dispatch("insertAschema",t)}))):r.state.schemaList=[]}));var s="".concat(P["a"].studioServer.BASE_URL).concat(P["a"].studioServer.CRED_LIST_EP,"/").concat(this.getters.getSelectedOrg._id),c={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.authToken)}};fetch(s,{headers:c.headers}).then((function(t){return t.json()})).then((function(t){t&&0!==t.data.credList.length?(r.state.vcList=[],t.data.credList.forEach((function(t){r.dispatch("insertAcredential",t)}))):r.state.vcList=[]}))}}});n["default"].use(O["a"]);var mr=new O["a"]({mode:"hash",routes:[{path:"/",redirect:"/studio",requiresAuth:!0},{path:"/login",redirect:"/studio/login"},{path:"/studio",redirect:"/studio/dashboard",requiresAuth:!0},{path:"/studio/login",name:"PKIIdLogin",component:U},{path:"/studio/dashboard",name:"dashboard",component:ze,meta:{requiresAuth:!0,title:"".concat(P["a"].app.name," - Dashboard")}},{path:"/studio/org",name:"Org",component:lr,meta:{requiresAuth:!0}},{path:"/studio/register",name:"register",component:K},{path:"/studio/schema",name:"schema",component:tr,meta:{requiresAuth:!0,title:"".concat(P["a"].app.name," - Schema")}},{path:"/studio/credential",name:"credential",component:qt,meta:{requiresAuth:!0,title:"".concat(P["a"].app.name," - Credential")}},{path:"/studio/presentation",name:"presentation",component:ne,meta:{requiresAuth:!0,title:"".concat(P["a"].app.name," - Presentation")}},{path:"/404",name:"PageNotFound",component:function(){return r.e("chunk-2d0e95df").then(r.bind(null,"8cdb"))},meta:{title:"".concat(P["a"].app.name," - 404")}}]});mr.beforeEach((function(t,e,r){if(t.matched.length<1)return document.title=t.meta.title,r(!1),mr.push("/404");if(t.matched.some((function(t){return t.meta.requiresAuth}))){document.title=t.meta.title;var n=localStorage.getItem("authToken");if(n){var o="".concat(P["a"].studioServer.BASE_URL,"api/v2/protected");H()(o,{headers:{Authorization:"Bearer ".concat(n)},method:"POST"}).then((function(t){return t.json()})).then((function(e){403==e.status?r({path:"/studio/login",params:{nextUrl:t.fullPath}}):(localStorage.setItem("user",JSON.stringify(e.message)),pr.commit("addUserDetailsToProfile",e.message),r())})).catch((function(e){console.log(e),r({path:"/studio/login",params:{nextUrl:t.fullPath}})}))}else r({path:"/studio/login",params:{nextUrl:t.fullPath}})}else r()}));var gr=mr,vr=r("5f5b"),yr=r("b1e0"),br=r("ee98"),Sr=r.n(br),_r=r("4776"),Er=r.n(_r);r("b15b"),r("f9e3"),r("2dd8"),r("5363"),r("eea2");n["default"].config.productionTip=!1,n["default"].use(Er.a),n["default"].use(vr["a"]),n["default"].use(yr["a"]),n["default"].use(Sr.a),n["default"].config.devtools=!0,n["default"].prototype.$config=P["a"],new n["default"]({router:gr,store:pr,render:function(t){return t(w)}}).$mount("#app")},6:function(t,e){},"607c":function(t,e,r){},7:function(t,e){},"75b6":function(t,e,r){},"7d33":function(t,e,r){"use strict";r("75b6")},8:function(t,e,r){t.exports=r("56d7")},9:function(t,e){},"900b":function(t,e,r){"use strict";r("f2af")},a036:function(t,e,r){},ab20:function(t,e,r){"use strict";r("c63a")},b982:function(t,e,r){t.exports=r.p+"img/small-loader.3f259006.gif"},b9fd:function(t,e,r){"use strict";r("f026")},c3ba:function(t,e,r){},c63a:function(t,e,r){},ca71:function(t,e,r){},d199:function(t,e,r){t.exports=r.p+"img/red-cross.2d80c3a5.png"},d1b2:function(t,e,r){"use strict";r("a036")},d738:function(t,e,r){"use strict";r("ca71")},db49:function(t,e,r){"use strict";var n=r("41aa"),o=r.n(n),i=r("522b"),a={studioServer:{SCHEMA_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/schema/sse/"),CRED_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/credential/sse/"),ORG_SSE:"".concat("https://stage.hypermine.in/studioserver/","api/v1/org/sse/"),BASE_URL:"https://stage.hypermine.in/studioserver/",ACCPCT_CRED_EP:"api/v1/credential/send",SAVE_SCHEMA_EP:"api/v1/schema",CRED_LIST_EP:"api/v1/credential/org",SCHEMA_LIST_EP:"api/v1/schema",CRED_ISSUE_EP:"api/v1/credential",AUTH_CHALLENGE_EP:o.a.value("STUDIO_SERVER_AUTH_CHALLENGE_EP")||"api/auth/challenge",AUTH_LOGIN_EP:o.a.value("STUDIO_SERVER_AUTH_LOGIN_EP")||"api/auth/login",PRESENTATION_TEMPLATE_EP:"api/v1/presentation/template"},nodeServer:{BASE_URL:"https://jagrat.hypersign.id/rpc/",BASE_URL_REST:"https://jagrat.hypersign.id/rest/",SCHEMA_GET_REST:"hypersign-protocol/hidnode/ssi/schema/",NETWORK_STATUS_EP:o.a.value("NODE_SERVER_NETWORK_STATUS_EP")||"net_info",SCHEMA_LIST_EP:o.a.value("NODE_SERVER_SCHEMA_LIST_EP")||"api/schema/list",SCHEMA_GET_EP:o.a.value("NODE_SERVER_SCHEMA_GET_EP")||"api/schema/get",SCHEMA_CREATE_EP:o.a.value("NODE_SERVER_SCHEMA_CREATE_EP")||"api/schema/create",DID_RESOLVE_EP:o.a.value("NODE_SERVER_DID_RERSOLVE_EP")||"hypersign-protocol/hidnode/ssi/did/"},explorer:{BASE_URL:o.a.value("EXPLORER_BASE_URL")||"https://explorer.hypersign.id/hypersign-testnet/",NEW_DID_EP:o.a.value("EXPLORER_NEW_DID_EP")||"newdid"},app:{name:o.a.value("TITLE")||"Hypersign Studio",decription:o.a.value("DESC"),version:o.a.value("VERSION")||"v1.0.0"}},s="wss://stage.hypermine.in/studioserverws/",c="https://wallet-stage.hypersign.id",l={nodeUrl:a.nodeServer.BASE_URL,didScheme:"did:hs"},u={did:i.did(l),credential:i.credential(l)};a["appName"]="Studio",a["hypersignSDK"]=u,a["websocketUrl"]=s,a["webWalletAddress"]=c,e["a"]=a},e2c9:function(t,e,r){var n=r("69f2"),o=r("7247");o.ModeOfOperation.ctr;function i(t){return n("sha256").update(t).digest()}function a(t){return o.utils.hex.fromBytes(i(t))}t.exports={sha256hashStr:a}},f026:function(t,e,r){},f1f1:function(t,e,r){"use strict";r("004d")},f2af:function(t,e,r){}});
//# sourceMappingURL=app.2f161436.js.map